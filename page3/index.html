<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Entities should not be multiplied unnecessarily | The Simple</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Jekyll" />
    <meta name="author" content="John" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="http://zhaoxuan.github.io/css/style.css" type="text/css" />
    <link rel="stylesheet" href="http://zhaoxuan.github.io/css/syntax.css" type="text/css" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <link rel="shortcut icon" href="http://zhaoxuan.github.io/favicon.ico" type="image/x-icon" />
    <!--[if lt IE 9]>
    <script src="http://zhaoxuan.github.io/js/html5.js" type="text/javascript"></script>
    <![endif]-->

    <!-- mathjax js is been used for mathematical formula -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</head>
<body id="default">
<div id="head-line"></div>
<div id="content">
    <header id="head">
        <div id="logo">
            <!-- <img src="http://mmistakes.github.io/minimal-mistakes/images/bio-photo.jpg" class="bio-photo" alt=" bio photo"> -->
            <img src="http://zhaoxuan.github.io/images/head_portrait.png" class="bio-photo" alt=" bio photo">
            <h2>Simple</h2>
        </div>
        <nav id="nav">
            <ul>
                <li class="fn-clear"><a href="http://zhaoxuan.github.io" rel="nofollow" class="action"><i class="icon-home"></i> Home</a></li>
                <li class="fn-clear"><a href="http://zhaoxuan.github.io/archives.html"><i class="icon-list-ul"></i> Archives</a></li>
                <li class="fn-clear"><a href="http://zhaoxuan.github.io/contact.html"><i class="icon-envelope-alt"></i> Contact</a></li>
                <li class="fn-clear"><a href="http://twitter.com/363602094"><i class="icon-twitter"></i> Twitter</a></li>
            </ul>
        </nav>
    </header>
    <section id="contain">
        <header id="begin">
            <!-- <span>Entities should not be multiplied unnecessarily</span> -->
            <h1 class="post-title">Entities should not be multiplied unnecessarily</h1>
        </header>
		
	<article class="post fn-clear">
        <h2 class="post-title"><a href="http://zhaoxuan.github.io/feeling/2012/11/26/a-disappointed-weekend.html" title="一个失落的周末" rel="bookmark">一个失落的周末</a></h2>
        <p class="time"><time pubdate="2012-11-26 09:10:00 +0800">26 Nov 2012</time></p>
        
        <p>今天是星期一，一大早起来，看了新闻感觉非常失望。</p>

<p>尤文输了。</p>

<p>法拉利的阿隆索失去了冠军。</p>

<p>湖人也不给力。</p>

<p>首先是看到尤文输给了米兰。这场比赛真让我感觉失望，看了集锦，真的为尤文的前锋担心。</p>

<p>然后看了 F1 阿隆索距离最近的冠军只有三秒钟。</p>

<p>不得不好好说说阿隆索。</p>

<p>原来我是对阿隆索非常的不喜欢，其中的主要原因大概是抢了舒马赫的两个世界冠军。</p>

<p>尤其是最后一个冠军，不然车王就能完美的退役了。</p>

<p>当时没有一点好感。</p>

<p>但是命运就是这样多变，直到一天阿隆索披上了法拉利的队服。</p>

<p>这个时候我开始对阿隆索产生了改变。</p>

<p>真正打的变化是从这个赛季开始的。</p>

<p>法拉利的赛车真的不是非常给力。</p>

<p>但是就是这样一部赛车，阿隆索在工程师的配合下，达到了平衡。</p>

<p>可以在积分上面领跑在第一集团，直到赛季最后阶段，依然有冠军希望。</p>

<p>不得不佩服阿隆索，把这样一部赛车开到了极限，我感觉也只有舒马赫能有这样的能力。</p>

<p>但是阿隆索做到了，对于阿隆索这样的精神，这样的技术，我只能是非常的佩服。</p>

<p>对阿隆索的喜欢，就是从这个赛季开始，也会一直下去，就像喜爱舒马赫一样。</p>

        
    </article>

	<article class="post fn-clear">
        <h2 class="post-title"><a href="http://zhaoxuan.github.io/feeling/2012/11/22/a-month.html" title="一个月" rel="bookmark">一个月</a></h2>
        <p class="time"><time pubdate="2012-11-22 22:24:00 +0800">22 Nov 2012</time></p>
        
        <p>回顾下到新公司的一个月。</p>

<p>还记得一个月前的今天，也就是 10 月 22 号，第一天来到 i-click 的时候是那么的陌生。</p>

<p>陌生的环境都让我感觉有点害怕，开始对自己的信心开始动摇。</p>

<p>我当初的决定对吗？</p>

<p>我能完成当初的承诺吗？</p>

<p>我应该怎么说服自己的？</p>

<p>第一天到公司，只有 mike 和我主动说了第一句话：</p>

<p>“你是新来公司吗？你应该到 E 座去先报道去。”</p>

<p>这样我才开始了新的工作。</p>

<p>因为如果不是 mike 我还在发呆，一切都是这么茫然。</p>

<p>经过一个月的工作，感觉其实在哪一个公司都是差不多。</p>

<p>每天的工作都是这么简单，再有挑战的工作都是这样一天一天积累起来的。</p>

<p>开始天天就在研究 mechanize 去抓取 comscore 和 wm123 的页面，提取页面里面的用户信息。（当时不知道有什么用）</p>

<p>后来又在 xmo 里面做了一个新功能，export ineligible keyword and ineligible adtext 的功能。</p>

<p>直到这周完成了对千万级别 keywords 的导出测试。</p>

<p>最新的任务就是 GDN。</p>

<p>什么是 GDN？</p>

<p>中国估计没有几个人知道，全称 google display network。</p>

<p>也就是 google 的一个广告展示平台。</p>

<p>突然感觉自己什么事都没有做一样。</p>

<p>一晃就过去了 1 月的时间呢。</p>

<p>回头看看自己的做的东西，真的没有什么惊天动地的。</p>

        
    </article>

	<article class="post fn-clear">
        <h2 class="post-title"><a href="http://zhaoxuan.github.io/algorithm/2012/11/17/information-gain.html" title="信息增益(information gain)" rel="bookmark">信息增益(information gain)</a></h2>
        <p class="time"><time pubdate="2012-11-17 15:28:00 +0800">17 Nov 2012</time></p>
        
        <h4 id="section">简介</h4>
<p>百度百科上面的定义：在概率论和信息论中，信息增益是非对称的，用以度量两种概率分布P和Q的差异。信息增益描述了当使用Q进行编码时，再使用P进行编码的差异。通常P代表样本或观察值的分布，也有可能是精确计算的理论分布。Q代表一种理论，模型，描述或者对P的近似。</p>

<p>读起来略微有点费解，其实我个人理解，信息增益，既然有增益，必然有要对比。</p>

<p>首先要对信息进行量化，说到这个，就不得不提到我上大学非常崇拜的一个大神 “信息论之父” 香农，他提出了<a href="/algorithm/2012/12/07/information-theory.html" title="Title">信息熵</a>，实现了对信息的量化。</p>


        
    </article>

	<article class="post fn-clear">
        <h2 class="post-title"><a href="http://zhaoxuan.github.io/ruby/2012/10/31/ruby-mechanize.html" title="使用 mechanize 模拟浏览器提交数据" rel="bookmark">使用 mechanize 模拟浏览器提交数据</a></h2>
        <p class="time"><time pubdate="2012-10-31 22:06:00 +0800">31 Oct 2012</time></p>
        
        <p>对于要抓取网页的操作，nokogiri 绝对是一个非常牛逼的 gem。</p>

<p>但是如果这个页面涉及到登陆，涉及到跳转的时候 nokogiri 就有点无能为力了。</p>

<p>这里推荐使用 mechanize，类似的还有 faraday。</p>

<p>如果要涉及到 cookie 操作的话，推荐使用 mechanize，这样跳转起来方便。</p>

<p>如果要是抓 API 的话，就用 faraday。</p>

<p>1 install mechanize</p>

<div class="highlight"><pre><code class="ruby"><span class="n">gem</span> <span class="n">install</span> <span class="n">mechanize</span>
</code></pre></div>

<p>2 mechanize object</p>

<div class="highlight"><pre><code class="ruby"><span class="n">agent</span> <span class="o">=</span> <span class="ss">WWW</span><span class="p">:</span><span class="ss">:Mechanize</span><span class="o">.</span><span class="n">new</span>
</code></pre></div>

<p>3 vitual user_agent</p>

<div class="highlight"><pre><code class="ruby"><span class="n">agent</span><span class="o">.</span><span class="n">user_agent_alias</span> <span class="o">=</span> <span class="s1">&#39;Windows IE 7&#39;</span>
</code></pre></div>

<p><code>ruby user_agent https://github.com/sparklemotion/mechanize/blob/master/lib/mechanize.rb#L115 detail
AGENT_ALIASES = {
    'Mechanize' =&gt; "Mechanize/#{VERSION} Ruby/#{ruby_version} (http://github.com/sparklemotion/mechanize/)",
    'Linux Firefox' =&gt; 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.1) Gecko/20100122 firefox/3.6.1',
    'Linux Konqueror' =&gt; 'Mozilla/5.0 (compatible; Konqueror/3; Linux)',
    'Linux Mozilla' =&gt; 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624',
    'Mac Firefox' =&gt; 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2) Gecko/20100115 Firefox/3.6',
    'Mac Mozilla' =&gt; 'Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.4a) Gecko/20030401',
    'Mac Safari 4' =&gt; 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_2; de-at) AppleWebKit/531.21.8 (KHTML, like Gecko) Version/4.0.4 Safari/531.21.10',
    'Mac Safari' =&gt; 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/534.51.22 (KHTML, like Gecko) Version/5.1.1 Safari/534.51.22',
    'Windows IE 6' =&gt; 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)',
    'Windows IE 7' =&gt; 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)',
    'Windows IE 8' =&gt; 'Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727)',
    'Windows IE 9' =&gt; 'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)',
    'Windows Mozilla' =&gt; 'Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030516 Mozilla Firebird/0.6',
    'iPhone' =&gt; 'Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, like Gecko) Version/3.0 Mobile/1C28 Safari/419.3',
  }
</code></p>

<p>4 get page
<code>ruby get_page
agent.get('https://my.comscore.com/login/') 
</code></p>

<p>5 set time out
<code>ruby set_time_out 
agent.open_timeout = 10 
</code></p>

<p>6 read form tag
<code>ruby read_form_tag
page.form('loginform')
</code></p>

<p>7 fill in form
<code>ruby fill
login_form.userid = 'username'
login_form.passwd = 'password'
</code></p>

<p>8 submit form
<code>ruby submit
agent.submit(login_form)
</code></p>

<p>这样就能完成对 comscore 这个网站的登陆了，非常简单好用。</p>


        
    </article>

	<article class="post fn-clear">
        <h2 class="post-title"><a href="http://zhaoxuan.github.io/fluentd/log/ruby/2012/10/29/fluentd-configuration-file.html" title="Fluentd 配置文件" rel="bookmark">Fluentd 配置文件</a></h2>
        <p class="time"><time pubdate="2012-10-29 07:56:00 +0800">29 Oct 2012</time></p>
        
        <p><a href="http://docs.fluentd.org/articles/config-file" target="_blank">Fluentd config file</a>
Overview
The configuration file allows the user to control the input and output behavior of Fluentd by (1) selecting input and output plugins and (2) specifying the plugin parameters. The file is required for Fluentd to operate properly.</p>

<h4 id="list-of-directives">List of Directives</h4>

<p>The configuration file consists of the following directives:
&gt; 1.source directives determine the input sources.
&gt;
&gt; 2.match directives determine the output destinations.
&gt;
&gt; 3.include directives include other files.</p>

<h4 id="source-directive">Source Directive</h4>
<p>Fluentd’s input sources are enabled by selecting and configuring the desired input plugins using source directives. Fluentd’s standard input plugins include http and forward.</p>

<div class="highlight"><pre><code class="bash">&lt;<span class="nb">source</span>&gt;
  <span class="nb">type </span>http
  port 8888
&lt;/source&gt;
</code></pre></div>

<h4 id="match-directive">Match Directive</h4>
<p>Fluentd’s output destinations are enabled by selecting and configuring the desired output plugins using match directives. Fluentd’s standard output plugins include file and forward.</p>

<div class="highlight"><pre><code class="bash">&lt;match debug.**&gt;
  <span class="nb">type </span>stdout
&lt;/match&gt;
</code></pre></div>

<p>Each match directive must include a match pattern and a type parameter. Match patterns are used to filter the events. Only events with tag matching the pattern will be sent to the output destination. The type parameter specifies the output plugin to use.</p>

<h4 id="match-pattern-how-you-control-the-event-flow-inside-fluentd">Match Pattern: how you control the event flow inside fluentd</h4>

<p>The following match patterns can be used for the <match> tag.</match></p>

<pre><code>* matches a single tag part.
For example, the pattern a.* matches a.b, but does not match a or a.b.c

** matches zero or more tag parts.
For example, the pattern a.** matches a, a.b and a.b.c

{X,Y,Z} matches X, Y, or Z, where X, Y, and Z are match patterns.
For example, the pattern {a,b} matches a and b, but does not match c
This can be used in combination with the * or ** patterns. Examples include a.{b,c}.* and a.{b,c.**}
</code></pre>


        
    </article>


    <nav id="pagination" class="fn-clear">
        <ul class="pagination">
            
                
                    <li><a href="http://zhaoxuan.github.io/">1</a></li>
                
            
                
                    <li><a href="http://zhaoxuan.github.io/page2/">2</a></li>
                
            
                
                    <li class="current"><a href="javascript:void(0);">3</a></li>
                
            
                
                    <li><a href="http://zhaoxuan.github.io/page4/">4</a></li>
                
            
                
                    <li><a href="http://zhaoxuan.github.io/page5/">5</a></li>
                
            
                
                    <li><a href="http://zhaoxuan.github.io/page6/">6</a></li>
                
            
                
                    <li><a href="http://zhaoxuan.github.io/page7/">7</a></li>
                
            
                
                    <li><a href="http://zhaoxuan.github.io/page8/">8</a></li>
                
            
        </ul>
    </nav>
	

        <footer id="foot">
            <p>&copy; 2014 John Zhao All rights reserved. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">PIZn</a></p>
        </footer>
    </section>
</div>
<div id="foot-line"></div>
<script src="http://zhaoxuan.github.io/js/jquery.js" type="text/javascript"></script>
<script src="http://zhaoxuan.github.io/js/jquery.scrollTo.js" type="text/javascript"></script>
<script src="http://zhaoxuan.github.io/js/theOne.js" type="text/javascript"></script>

</body>
</html>
